REM Ã–rnek 10: AkÄ±llÄ± Ev Otomasyon Kontrol Sistemi
REM Bu program akÄ±llÄ± ev cihazlarÄ±nÄ± kontrol eder ve enerji optimizasyonu yapar

PRINT "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
PRINT "â•‘  AKILLI EV OTOMASYON SÄ°STEMÄ°        â•‘"
PRINT "â•‘           pdsXv11g v1.0              â•‘"
PRINT "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
PRINT

REM Global veri yapÄ±larÄ±
DIM devices AS ARRAY
DIM rooms AS ARRAY
DIM schedules AS ARRAY
DIM energy_logs AS ARRAY
DIM sensors AS ARRAY
DIM scenarios AS ARRAY
DIM security AS OBJECT

REM Sistem baÅŸlatma
call initialize_smart_home()

DEF SUB initialize_smart_home()
    REM Odalar tanÄ±mlama
    rooms = [
        {"name": "Salon", "temperature": 22.5, "humidity": 45, "lighting": 80, "occupancy": True},
        {"name": "Yatak OdasÄ±", "temperature": 20.0, "humidity": 40, "lighting": 0, "occupancy": False},
        {"name": "Mutfak", "temperature": 24.0, "humidity": 55, "lighting": 100, "occupancy": False},
        {"name": "Banyo", "temperature": 21.5, "humidity": 60, "lighting": 50, "occupancy": False},
        {"name": "Ã‡alÄ±ÅŸma OdasÄ±", "temperature": 21.0, "humidity": 42, "lighting": 90, "occupancy": True}
    ]
    
    REM Cihazlar tanÄ±mlama
    devices = [
        {"id": 1, "name": "Salon Klima", "type": "hvac", "room": "Salon", "status": "aÃ§Ä±k", 
         "power": 1200, "temperature": 22, "mode": "soÄŸutma"},
        {"id": 2, "name": "Salon TV", "type": "entertainment", "room": "Salon", "status": "aÃ§Ä±k", 
         "power": 150, "channel": 5, "volume": 25},
        {"id": 3, "name": "Mutfak IÅŸÄ±k", "type": "lighting", "room": "Mutfak", "status": "aÃ§Ä±k", 
         "power": 45, "brightness": 100, "color": "beyaz"},
        {"id": 4, "name": "Yatak OdasÄ± Lambader", "type": "lighting", "room": "Yatak OdasÄ±", "status": "kapalÄ±", 
         "power": 15, "brightness": 0, "color": "sÄ±cak beyaz"},
        {"id": 5, "name": "Kombi", "type": "hvac", "room": "Banyo", "status": "aÃ§Ä±k", 
         "power": 2000, "temperature": 60, "mode": "su Ä±sÄ±tma"},
        {"id": 6, "name": "BulaÅŸÄ±k Makinesi", "type": "appliance", "room": "Mutfak", "status": "kapalÄ±", 
         "power": 2100, "program": "eco", "remaining_time": 0},
        {"id": 7, "name": "Ã‡amaÅŸÄ±r Makinesi", "type": "appliance", "room": "Banyo", "status": "kapalÄ±", 
         "power": 2200, "program": "pamuk", "remaining_time": 0}
    ]
    
    REM SensÃ¶rler
    sensors = [
        {"id": 101, "type": "temperature", "room": "Salon", "value": 22.5, "unit": "Â°C"},
        {"id": 102, "type": "humidity", "room": "Salon", "value": 45, "unit": "%"},
        {"id": 103, "type": "motion", "room": "Salon", "value": 1, "unit": "bool"},
        {"id": 104, "type": "light", "room": "Salon", "value": 300, "unit": "lux"},
        {"id": 105, "type": "energy", "room": "genel", "value": 3.5, "unit": "kWh"}
    ]
    
    REM ZamanlamalarÄ± baÅŸlat
    schedules = []
    
    REM Enerji gÃ¼nlÃ¼kleri
    energy_logs = []
    
    REM Senaryolar
    scenarios = [
        {"name": "GÃ¼naydÄ±n", "description": "Sabah rutini", "active": False},
        {"name": "Ä°yi Geceler", "description": "Uyku rutini", "active": False},
        {"name": "Ev BoÅŸ", "description": "DÄ±ÅŸarÄ± Ã§Ä±karken", "active": False},
        {"name": "Film Gecesi", "description": "EÄŸlence modu", "active": False}
    ]
    
    REM GÃ¼venlik ayarlarÄ±
    security.alarm_status = "kapalÄ±"
    security.door_locked = True
    security.window_sensors = True
    security.motion_detection = True
END SUB

DEF SUB show_main_menu()
    PRINT "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
    PRINT "1. Cihaz Kontrol Paneli"
    PRINT "2. Oda Durumu"
    PRINT "3. Enerji YÃ¶netimi"
    PRINT "4. Zamanlama ve Otomasyon"
    PRINT "5. SensÃ¶r Verileri"
    PRINT "6. AkÄ±llÄ± Senaryolar"
    PRINT "7. GÃ¼venlik Sistemi"
    PRINT "8. Raporlar ve Ä°statistikler"
    PRINT "9. Sistem AyarlarÄ±"
    PRINT "10. Ã‡Ä±kÄ±ÅŸ"
    PRINT "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
END SUB

DEF SUB device_control_panel()
    DIM running AS BOOLEAN
    running = True
    
    WHILE running
        PRINT
        PRINT "â•â•â• CÄ°HAZ KONTROL PANELÄ° â•â•â•"
        PRINT "1. TÃ¼m CihazlarÄ± Listele"
        PRINT "2. Cihaz Kontrol"
        PRINT "3. Oda BazlÄ± Kontrol"
        PRINT "4. Toplu AÃ§ma/Kapama"
        PRINT "5. Cihaz Ekle/Ã‡Ä±kar"
        PRINT "6. Ana MenÃ¼ye DÃ¶n"
        
        INPUT "SeÃ§iminiz: ", choice
        
        SELECT CASE choice
            CASE 1: call list_all_devices()
            CASE 2: call control_device()
            CASE 3: call room_based_control()
            CASE 4: call bulk_operations()
            CASE 5: call manage_devices()
            CASE 6: running = False
        END SELECT
    WEND
END SUB

DEF SUB list_all_devices()
    PRINT
    PRINT "TÃœM CÄ°HAZLAR:"
    PRINT STRING$(80, "=")
    PRINT "ID | Cihaz AdÄ±              | Oda         | Durum  | GÃ¼Ã§ (W) | TÃ¼r"
    PRINT STRING$(80, "-")
    
    FOR i = 0 TO LEN(devices) - 1
        DIM d AS OBJECT
        d = devices(i)
        
        DIM status_icon AS STRING
        IF d.status = "aÃ§Ä±k" THEN
            status_icon = "ğŸŸ¢"
        ELSE
            status_icon = "ğŸ”´"
        END IF
        
        PRINT RIGHT$("  " + STR$(d.id), 2) + " | " +
              LEFT$(d.name + STRING$(22, " "), 22) + " | " +
              LEFT$(d.room + STRING$(11, " "), 11) + " | " +
              status_icon + LEFT$(d.status + "      ", 6) + " | " +
              RIGHT$("      " + STR$(d.power), 7) + " | " +
              d.type
    NEXT i
    
    PRINT STRING$(80, "=")
    
    REM Ã–zet bilgi
    DIM active_count AS INTEGER
    DIM total_power AS INTEGER
    active_count = 0
    total_power = 0
    
    FOR i = 0 TO LEN(devices) - 1
        IF devices(i).status = "aÃ§Ä±k" THEN
            active_count = active_count + 1
            total_power = total_power + devices(i).power
        END IF
    NEXT i
    
    PRINT "Aktif cihaz sayÄ±sÄ±: " + STR$(active_count) + "/" + STR$(LEN(devices))
    PRINT "Toplam gÃ¼Ã§ tÃ¼ketimi: " + STR$(total_power) + " W"
    PRINT "Saatlik enerji maliyeti: " + STR$(ROUND((total_power / 1000) * 0.85, 2)) + " â‚º"
END SUB

DEF SUB control_device()
    INPUT "Kontrol etmek istediÄŸiniz cihaz ID: ", device_id
    
    DIM device_index AS INTEGER
    device_index = find_device_by_id(device_id)
    
    IF device_index = -1 THEN
        PRINT "Cihaz bulunamadÄ±!"
        EXIT SUB
    END IF
    
    DIM d AS OBJECT
    d = devices(device_index)
    
    PRINT
    PRINT "â•â•â• " + UPPER$(d.name) + " KONTROL â•â•â•"
    PRINT "Mevcut durum: " + d.status
    PRINT "GÃ¼Ã§ tÃ¼ketimi: " + STR$(d.power) + " W"
    PRINT "Oda: " + d.room
    PRINT
    
    SELECT CASE d.type
        CASE "lighting"
            call control_lighting(device_index)
        CASE "hvac"
            call control_hvac(device_index)
        CASE "entertainment"
            call control_entertainment(device_index)
        CASE "appliance"
            call control_appliance(device_index)
        CASE ELSE
            call basic_device_control(device_index)
    END SELECT
END SUB

DEF SUB control_lighting(device_index AS INTEGER)
    DIM d AS OBJECT
    d = devices(device_index)
    
    PRINT "IÅIK KONTROL:"
    PRINT "1. AÃ§Ä±k/KapalÄ±"
    PRINT "2. ParlaklÄ±k AyarÄ±"
    PRINT "3. Renk DeÄŸiÅŸtir"
    
    INPUT "SeÃ§iminiz: ", control_choice
    
    SELECT CASE control_choice
        CASE 1
            IF d.status = "aÃ§Ä±k" THEN
                d.status = "kapalÄ±"
                d.brightness = 0
                PRINT d.name + " kapatÄ±ldÄ±."
            ELSE
                d.status = "aÃ§Ä±k"
                d.brightness = 80
                PRINT d.name + " aÃ§Ä±ldÄ±."
            END IF
            
        CASE 2
            INPUT "ParlaklÄ±k seviyesi (0-100): ", brightness
            IF brightness >= 0 AND brightness <= 100 THEN
                d.brightness = brightness
                IF brightness > 0 THEN
                    d.status = "aÃ§Ä±k"
                ELSE
                    d.status = "kapalÄ±"
                END IF
                PRINT "ParlaklÄ±k " + STR$(brightness) + "% olarak ayarlandÄ±."
            ELSE
                PRINT "GeÃ§ersiz parlaklÄ±k deÄŸeri!"
            END IF
            
        CASE 3
            PRINT "Renk seÃ§enekleri:"
            PRINT "1. Beyaz    2. SÄ±cak beyaz    3. Mavi    4. KÄ±rmÄ±zÄ±    5. YeÅŸil"
            INPUT "Renk seÃ§imi: ", color_choice
            
            DIM colors AS ARRAY
            colors = ["beyaz", "sÄ±cak beyaz", "mavi", "kÄ±rmÄ±zÄ±", "yeÅŸil"]
            
            IF color_choice >= 1 AND color_choice <= 5 THEN
                d.color = colors(color_choice - 1)
                PRINT "Renk " + d.color + " olarak deÄŸiÅŸtirildi."
            ELSE
                PRINT "GeÃ§ersiz renk seÃ§imi!"
            END IF
    END SELECT
    
    devices(device_index) = d
END SUB

DEF SUB control_hvac(device_index AS INTEGER)
    DIM d AS OBJECT
    d = devices(device_index)
    
    PRINT "IKLIMLENDIRME KONTROL:"
    PRINT "Mevcut sÄ±caklÄ±k: " + STR$(d.temperature) + "Â°C"
    PRINT "Mod: " + d.mode
    PRINT
    PRINT "1. AÃ§Ä±k/KapalÄ±"
    PRINT "2. SÄ±caklÄ±k AyarÄ±"
    PRINT "3. Mod DeÄŸiÅŸtir"
    PRINT "4. Otomatik Mod"
    
    INPUT "SeÃ§iminiz: ", control_choice
    
    SELECT CASE control_choice
        CASE 1
            IF d.status = "aÃ§Ä±k" THEN
                d.status = "kapalÄ±"
                PRINT d.name + " kapatÄ±ldÄ±."
            ELSE
                d.status = "aÃ§Ä±k"
                PRINT d.name + " aÃ§Ä±ldÄ±."
            END IF
            
        CASE 2
            INPUT "Hedef sÄ±caklÄ±k: ", target_temp
            IF target_temp >= 16 AND target_temp <= 30 THEN
                d.temperature = target_temp
                d.status = "aÃ§Ä±k"
                PRINT "Hedef sÄ±caklÄ±k " + STR$(target_temp) + "Â°C olarak ayarlandÄ±."
            ELSE
                PRINT "SÄ±caklÄ±k 16-30Â°C arasÄ±nda olmalÄ±dÄ±r!"
            END IF
            
        CASE 3
            PRINT "Mod seÃ§enekleri:"
            PRINT "1. SoÄŸutma    2. IsÄ±tma    3. Fan    4. Otomatik"
            INPUT "Mod seÃ§imi: ", mode_choice
            
            DIM modes AS ARRAY
            modes = ["soÄŸutma", "Ä±sÄ±tma", "fan", "otomatik"]
            
            IF mode_choice >= 1 AND mode_choice <= 4 THEN
                d.mode = modes(mode_choice - 1)
                PRINT "Mod " + d.mode + " olarak deÄŸiÅŸtirildi."
            ELSE
                PRINT "GeÃ§ersiz mod seÃ§imi!"
            END IF
            
        CASE 4
            call auto_climate_control(device_index)
    END SELECT
    
    devices(device_index) = d
END SUB

DEF SUB auto_climate_control(device_index AS INTEGER)
    DIM d AS OBJECT
    d = devices(device_index)
    
    REM Oda sÄ±caklÄ±ÄŸÄ±nÄ± al
    DIM room_temp AS DOUBLE
    room_temp = get_room_temperature(d.room)
    
    DIM target_temp AS DOUBLE
    target_temp = 22.0  ' Ideal sÄ±caklÄ±k
    
    IF room_temp > target_temp + 1 THEN
        d.mode = "soÄŸutma"
        d.temperature = target_temp
        d.status = "aÃ§Ä±k"
        PRINT "Otomatik mod: SoÄŸutma baÅŸlatÄ±ldÄ± (Oda: " + STR$(room_temp) + "Â°C)"
    ELSEIF room_temp < target_temp - 1 THEN
        d.mode = "Ä±sÄ±tma"
        d.temperature = target_temp
        d.status = "aÃ§Ä±k"
        PRINT "Otomatik mod: IsÄ±tma baÅŸlatÄ±ldÄ± (Oda: " + STR$(room_temp) + "Â°C)"
    ELSE
        d.status = "kapalÄ±"
        PRINT "Otomatik mod: SÄ±caklÄ±k ideal seviyede, cihaz kapatÄ±ldÄ±."
    END IF
    
    devices(device_index) = d
END SUB

DEF FUNCTION get_room_temperature(room_name AS STRING) AS DOUBLE
    FOR i = 0 TO LEN(rooms) - 1
        IF rooms(i).name = room_name THEN
            RETURN rooms(i).temperature
        END IF
    NEXT i
    RETURN 22.0  ' VarsayÄ±lan
END FUNCTION

DEF FUNCTION find_device_by_id(id AS INTEGER) AS INTEGER
    FOR i = 0 TO LEN(devices) - 1
        IF devices(i).id = id THEN
            RETURN i
        END IF
    NEXT i
    RETURN -1
END FUNCTION

DEF SUB room_status()
    DIM running AS BOOLEAN
    running = True
    
    WHILE running
        PRINT
        PRINT "â•â•â• ODA DURUMU â•â•â•"
        PRINT "1. TÃ¼m OdalarÄ± GÃ¶ster"
        PRINT "2. Oda DetaylarÄ±"
        PRINT "3. Oda OrtamÄ± Ayarla"
        PRINT "4. Konfor Analizi"
        PRINT "5. Ana MenÃ¼ye DÃ¶n"
        
        INPUT "SeÃ§iminiz: ", choice
        
        SELECT CASE choice
            CASE 1: call show_all_rooms()
            CASE 2: call room_details()
            CASE 3: call adjust_room_environment()
            CASE 4: call comfort_analysis()
            CASE 5: running = False
        END SELECT
    WEND
END SUB

DEF SUB show_all_rooms()
    PRINT
    PRINT "TÃœM ODALAR:"
    PRINT STRING$(70, "=")
    PRINT "Oda AdÄ±        | SÄ±caklÄ±k | Nem  | IÅŸÄ±k | KiÅŸi Var"
    PRINT STRING$(70, "-")
    
    FOR i = 0 TO LEN(rooms) - 1
        DIM r AS OBJECT
        r = rooms(i)
        
        DIM occupancy_status AS STRING
        IF r.occupancy THEN
            occupancy_status = "ğŸ‘¤ Evet"
        ELSE
            occupancy_status = "âŒ HayÄ±r"
        END IF
        
        PRINT LEFT$(r.name + STRING$(14, " "), 14) + " | " +
              RIGHT$("       " + STR$(r.temperature), 8) + " | " +
              RIGHT$("   " + STR$(r.humidity), 4) + " | " +
              RIGHT$("   " + STR$(r.lighting), 4) + " | " +
              occupancy_status
    NEXT i
    
    PRINT STRING$(70, "=")
    
    REM Genel durum Ã¶zeti
    DIM occupied_rooms AS INTEGER
    DIM avg_temp AS DOUBLE
    DIM total_temp AS DOUBLE
    
    occupied_rooms = 0
    total_temp = 0
    
    FOR i = 0 TO LEN(rooms) - 1
        IF rooms(i).occupancy THEN occupied_rooms = occupied_rooms + 1
        total_temp = total_temp + rooms(i).temperature
    NEXT i
    
    avg_temp = total_temp / LEN(rooms)
    
    PRINT "Dolu oda sayÄ±sÄ±: " + STR$(occupied_rooms) + "/" + STR$(LEN(rooms))
    PRINT "Ortalama ev sÄ±caklÄ±ÄŸÄ±: " + STR$(ROUND(avg_temp, 1)) + "Â°C"
END SUB

DEF SUB energy_management()
    DIM running AS BOOLEAN
    running = True
    
    WHILE running
        PRINT
        PRINT "â•â•â• ENERJÄ° YÃ–NETÄ°MÄ° â•â•â•"
        PRINT "1. AnlÄ±k GÃ¼Ã§ TÃ¼ketimi"
        PRINT "2. Enerji Tasarruf Ã–nerileri"
        PRINT "3. TÃ¼ketim Analizi"
        PRINT "4. Enerji PlanlamasÄ±"
        PRINT "5. Maliyet Hesaplama"
        PRINT "6. Ana MenÃ¼ye DÃ¶n"
        
        INPUT "SeÃ§iminiz: ", choice
        
        SELECT CASE choice
            CASE 1: call current_power_consumption()
            CASE 2: call energy_saving_suggestions()
            CASE 3: call consumption_analysis()
            CASE 4: call energy_scheduling()
            CASE 5: call cost_calculation()
            CASE 6: running = False
        END SELECT
    WEND
END SUB

DEF SUB current_power_consumption()
    PRINT
    PRINT "ANLIK GÃœÃ‡ TÃœKETÄ°MÄ°:"
    PRINT STRING$(60, "=")
    
    DIM total_power AS INTEGER
    DIM active_devices AS INTEGER
    total_power = 0
    active_devices = 0
    
    PRINT "Cihaz                   | Durum | GÃ¼Ã§ (W)"
    PRINT STRING$(60, "-")
    
    FOR i = 0 TO LEN(devices) - 1
        DIM d AS OBJECT
        d = devices(i)
        
        DIM power_display AS STRING
        IF d.status = "aÃ§Ä±k" THEN
            power_display = STR$(d.power)
            total_power = total_power + d.power
            active_devices = active_devices + 1
        ELSE
            power_display = "0"
        END IF
        
        DIM status_symbol AS STRING
        IF d.status = "aÃ§Ä±k" THEN
            status_symbol = "ğŸŸ¢"
        ELSE
            status_symbol = "ğŸ”´"
        END IF
        
        PRINT LEFT$(d.name + STRING$(23, " "), 23) + " | " +
              status_symbol + d.status + " | " +
              RIGHT$("      " + power_display, 7)
    NEXT i
    
    PRINT STRING$(60, "=")
    PRINT "Toplam anlÄ±k gÃ¼Ã§: " + STR$(total_power) + " W"
    PRINT "Aktif cihaz sayÄ±sÄ±: " + STR$(active_devices)
    
    REM Maliyet hesaplama
    DIM hourly_cost AS DOUBLE
    DIM daily_cost AS DOUBLE
    DIM monthly_cost AS DOUBLE
    
    hourly_cost = (total_power / 1000) * 0.85  ' 0.85 â‚º/kWh
    daily_cost = hourly_cost * 24
    monthly_cost = daily_cost * 30
    
    PRINT
    PRINT "ELEKTRÄ°K MALÄ°YETÄ°:"
    PRINT "Saatlik: " + STR$(ROUND(hourly_cost, 2)) + " â‚º"
    PRINT "GÃ¼nlÃ¼k: " + STR$(ROUND(daily_cost, 2)) + " â‚º"
    PRINT "AylÄ±k: " + STR$(ROUND(monthly_cost, 2)) + " â‚º"
END SUB

DEF SUB energy_saving_suggestions()
    PRINT
    PRINT "ENERJÄ° TASARRUF Ã–NERÄ°LERÄ°:"
    PRINT STRING$(50, "=")
    
    DIM suggestions AS ARRAY
    suggestions = []
    
    REM AÃ§Ä±k olan gereksiz cihazlarÄ± kontrol et
    FOR i = 0 TO LEN(devices) - 1
        DIM d AS OBJECT
        d = devices(i)
        
        IF d.status = "aÃ§Ä±k" THEN
            REM Odada kimse yoksa Ã¶ner
            DIM room_occupied AS BOOLEAN
            room_occupied = is_room_occupied(d.room)
            
            IF NOT room_occupied THEN
                INSERT(suggestions, "ğŸ’¡ " + d.room + " boÅŸ - " + d.name + " kapatÄ±labilir (Tasarruf: " + STR$(d.power) + "W)")
            END IF
            
            REM YÃ¼ksek gÃ¼Ã§ tÃ¼ketimi kontrolÃ¼
            IF d.power > 1000 THEN
                INSERT(suggestions, "âš¡ " + d.name + " yÃ¼ksek gÃ¼Ã§ tÃ¼ketiyor (" + STR$(d.power) + "W) - KullanÄ±m sÃ¼resi optimize edilebilir")
            END IF
        END IF
    NEXT i
    
    REM SÄ±caklÄ±k optimizasyonu Ã¶nerileri
    FOR i = 0 TO LEN(devices) - 1
        DIM d AS OBJECT
        d = devices(i)
        
        IF d.type = "hvac" AND d.status = "aÃ§Ä±k" THEN
            IF d.mode = "soÄŸutma" AND d.temperature < 24 THEN
                INSERT(suggestions, "ğŸŒ¡ï¸ " + d.name + " sÄ±caklÄ±ÄŸÄ± 24Â°C'ye Ã§Ä±karÄ±labilir (Tasarruf: ~%15)")
            ELSEIF d.mode = "Ä±sÄ±tma" AND d.temperature > 20 THEN
                INSERT(suggestions, "ğŸŒ¡ï¸ " + d.name + " sÄ±caklÄ±ÄŸÄ± 20Â°C'ye dÃ¼ÅŸÃ¼rÃ¼lebilir (Tasarruf: ~%10)")
            END IF
        END IF
    NEXT i
    
    REM Genel Ã¶neriler
    INSERT(suggestions, "â° Gece saatlerinde cihazlarÄ± zamanlayÄ±cÄ±yla kapatÄ±n")
    INSERT(suggestions, "ğŸ”‹ Standby modundaki cihazlarÄ± prizden Ã§ekin")
    INSERT(suggestions, "ğŸ’¡ LED ampul kullanÄ±mÄ±na geÃ§in")
    
    IF LEN(suggestions) = 0 THEN
        PRINT "âœ… Harika! Åu anda enerji kullanÄ±mÄ±nÄ±z optimal gÃ¶rÃ¼nÃ¼yor."
    ELSE
        FOR i = 0 TO LEN(suggestions) - 1
            PRINT suggestions(i)
        NEXT i
    END IF
    
    PRINT
    PRINT "TASARRuf POTANSÄ°YELÄ°:"
    DIM potential_saving AS INTEGER
    potential_saving = 0
    
    FOR i = 0 TO LEN(devices) - 1
        IF devices(i).status = "aÃ§Ä±k" AND NOT is_room_occupied(devices(i).room) THEN
            potential_saving = potential_saving + devices(i).power
        END IF
    NEXT i
    
    IF potential_saving > 0 THEN
        PRINT "BoÅŸ odalardaki cihazlarÄ± kapatarak " + STR$(potential_saving) + "W tasarruf yapabilirsiniz."
        PRINT "AylÄ±k tasarruf: ~" + STR$(ROUND((potential_saving / 1000) * 0.85 * 24 * 30, 2)) + " â‚º"
    END IF
END SUB

DEF FUNCTION is_room_occupied(room_name AS STRING) AS BOOLEAN
    FOR i = 0 TO LEN(rooms) - 1
        IF rooms(i).name = room_name THEN
            RETURN rooms(i).occupancy
        END IF
    NEXT i
    RETURN False
END FUNCTION

DEF SUB smart_scenarios()
    DIM running AS BOOLEAN
    running = True
    
    WHILE running
        PRINT
        PRINT "â•â•â• AKILLI SENARYOLAR â•â•â•"
        PRINT "1. HazÄ±r Senaryolar"
        PRINT "2. Senaryo Ã‡alÄ±ÅŸtÄ±r"
        PRINT "3. Ã–zel Senaryo OluÅŸtur"
        PRINT "4. Otomatik Senaryolar"
        PRINT "5. Ana MenÃ¼ye DÃ¶n"
        
        INPUT "SeÃ§iminiz: ", choice
        
        SELECT CASE choice
            CASE 1: call list_scenarios()
            CASE 2: call execute_scenario()
            CASE 3: call create_custom_scenario()
            CASE 4: call automatic_scenarios()
            CASE 5: running = False
        END SELECT
    WEND
END SUB

DEF SUB list_scenarios()
    PRINT
    PRINT "HAZIR SENARYOLAR:"
    PRINT STRING$(60, "=")
    
    FOR i = 0 TO LEN(scenarios) - 1
        DIM s AS OBJECT
        s = scenarios(i)
        
        DIM status_icon AS STRING
        IF s.active THEN
            status_icon = "ğŸŸ¢"
        ELSE
            status_icon = "âšª"
        END IF
        
        PRINT STR$(i + 1) + ". " + status_icon + " " + s.name
        PRINT "   " + s.description
        PRINT
    NEXT i
END SUB

DEF SUB execute_scenario()
    INPUT "Ã‡alÄ±ÅŸtÄ±rmak istediÄŸiniz senaryo numarasÄ±: ", scenario_num
    
    IF scenario_num < 1 OR scenario_num > LEN(scenarios) THEN
        PRINT "GeÃ§ersiz senaryo numarasÄ±!"
        EXIT SUB
    END IF
    
    DIM selected_scenario AS STRING
    selected_scenario = scenarios(scenario_num - 1).name
    
    PRINT "'" + selected_scenario + "' senaryosu Ã§alÄ±ÅŸtÄ±rÄ±lÄ±yor..."
    PRINT
    
    SELECT CASE selected_scenario
        CASE "GÃ¼naydÄ±n"
            call scenario_good_morning()
        CASE "Ä°yi Geceler"
            call scenario_good_night()
        CASE "Ev BoÅŸ"
            call scenario_away_mode()
        CASE "Film Gecesi"
            call scenario_movie_night()
    END SELECT
    
    scenarios(scenario_num - 1).active = True
    PRINT "âœ… Senaryo baÅŸarÄ±yla Ã§alÄ±ÅŸtÄ±rÄ±ldÄ±!"
END SUB

DEF SUB scenario_good_morning()
    PRINT "ğŸŒ… GÃœNAYDRIN SENARYOSU:"
    
    REM Yatak odasÄ±ndaki Ä±ÅŸÄ±klarÄ± aÃ§
    call set_device_by_room("Yatak OdasÄ±", "lighting", "aÃ§Ä±k", 50)
    PRINT "â€¢ Yatak odasÄ± Ä±ÅŸÄ±klarÄ± aÃ§Ä±ldÄ± (%50)"
    
    REM Klima sÄ±caklÄ±ÄŸÄ±nÄ± ayarla
    call set_hvac_temperature("Salon", 22)
    PRINT "â€¢ Salon klimasÄ± 22Â°C'ye ayarlandÄ±"
    
    REM Mutfak Ä±ÅŸÄ±ÄŸÄ±nÄ± aÃ§
    call set_device_by_room("Mutfak", "lighting", "aÃ§Ä±k", 100)
    PRINT "â€¢ Mutfak Ä±ÅŸÄ±ÄŸÄ± aÃ§Ä±ldÄ±"
    
    REM Kombiyi Ã§alÄ±ÅŸtÄ±r
    call turn_on_device_by_name("Kombi")
    PRINT "â€¢ Kombi Ã§alÄ±ÅŸtÄ±rÄ±ldÄ±"
    
    PRINT "â€¢ GÃ¼zel bir gÃ¼n geÃ§irmeniz dileÄŸiyle! â˜€ï¸"
END SUB

DEF SUB scenario_good_night()
    PRINT "ğŸŒ™ Ä°YÄ° GECELER SENARYOSU:"
    
    REM TÃ¼m Ä±ÅŸÄ±klarÄ± kapat
    FOR i = 0 TO LEN(devices) - 1
        IF devices(i).type = "lighting" THEN
            devices(i).status = "kapalÄ±"
            devices(i).brightness = 0
        END IF
    NEXT i
    PRINT "â€¢ TÃ¼m Ä±ÅŸÄ±klar kapatÄ±ldÄ±"
    
    REM Sadece yatak odasÄ± lambaderini dÃ¼ÅŸÃ¼k yak
    call set_device_by_name("Yatak OdasÄ± Lambader", "aÃ§Ä±k", 20)
    PRINT "â€¢ Yatak odasÄ± lambadera dÃ¼ÅŸÃ¼k Ä±ÅŸÄ±kta aÃ§Ä±ldÄ±"
    
    REM TV'yi kapat
    call turn_off_device_by_name("Salon TV")
    PRINT "â€¢ TV kapatÄ±ldÄ±"
    
    REM Klima gece modu
    call set_hvac_temperature("Yatak OdasÄ±", 20)
    PRINT "â€¢ Yatak odasÄ± klimasÄ± gece modu (20Â°C)"
    
    REM GÃ¼venlik sistemini aÃ§
    security.alarm_status = "aÃ§Ä±k"
    PRINT "â€¢ GÃ¼venlik sistemi aktifleÅŸtirildi"
    
    PRINT "â€¢ Ä°yi geceler ve tatlÄ± rÃ¼yalar! ğŸ’¤"
END SUB

DEF SUB scenario_away_mode()
    PRINT "ğŸ  EV BOÅ SENARYOSU:"
    
    REM TÃ¼m cihazlarÄ± kapat (kombi hariÃ§)
    FOR i = 0 TO LEN(devices) - 1
        IF devices(i).name <> "Kombi" THEN
            devices(i).status = "kapalÄ±"
            IF devices(i).type = "lighting" THEN
                devices(i).brightness = 0
            END IF
        END IF
    NEXT i
    PRINT "â€¢ Gereksiz tÃ¼m cihazlar kapatÄ±ldÄ±"
    
    REM GÃ¼venlik sistemini aktive et
    security.alarm_status = "aÃ§Ä±k"
    security.motion_detection = True
    PRINT "â€¢ GÃ¼venlik sistemi ve hareket sensÃ¶rleri aktifleÅŸtirildi"
    
    REM TÃ¼m odalarÄ± boÅŸ olarak iÅŸaretle
    FOR i = 0 TO LEN(rooms) - 1
        rooms(i).occupancy = False
    NEXT i
    PRINT "â€¢ TÃ¼m odalar boÅŸ olarak iÅŸaretlendi"
    
    PRINT "â€¢ Ev gÃ¼venlik modunda. Ä°yi yolculuklar! âœˆï¸"
END SUB

DEF SUB scenario_movie_night()
    PRINT "ğŸ¬ FÄ°LM GECESÄ° SENARYOSU:"
    
    REM Salon TV'yi aÃ§
    call turn_on_device_by_name("Salon TV")
    PRINT "â€¢ TV aÃ§Ä±ldÄ±"
    
    REM Salon Ä±ÅŸÄ±klarÄ±nÄ± kÄ±s
    call set_device_by_room("Salon", "lighting", "aÃ§Ä±k", 30)
    PRINT "â€¢ Salon Ä±ÅŸÄ±klarÄ± kÄ±sÄ±ldÄ± (%30)"
    
    REM DiÄŸer odalarÄ±n Ä±ÅŸÄ±klarÄ±nÄ± kapat
    FOR i = 0 TO LEN(devices) - 1
        IF devices(i).type = "lighting" AND devices(i).room <> "Salon" THEN
            devices(i).status = "kapalÄ±"
            devices(i).brightness = 0
        END IF
    NEXT i
    PRINT "â€¢ DiÄŸer odalarÄ±n Ä±ÅŸÄ±klarÄ± kapatÄ±ldÄ±"
    
    REM Klima konfor seviyesi
    call set_hvac_temperature("Salon", 23)
    PRINT "â€¢ Salon klimasÄ± konfor seviyesine ayarlandÄ± (23Â°C)"
    
    PRINT "â€¢ Film keyfini Ã§Ä±karÄ±n! ğŸ¿"
END SUB

DEF SUB set_device_by_room(room_name AS STRING, device_type AS STRING, status AS STRING, brightness AS INTEGER)
    FOR i = 0 TO LEN(devices) - 1
        IF devices(i).room = room_name AND devices(i).type = device_type THEN
            devices(i).status = status
            IF device_type = "lighting" THEN
                devices(i).brightness = brightness
            END IF
        END IF
    NEXT i
END SUB

DEF SUB set_hvac_temperature(room_name AS STRING, temperature AS INTEGER)
    FOR i = 0 TO LEN(devices) - 1
        IF devices(i).room = room_name AND devices(i).type = "hvac" THEN
            devices(i).status = "aÃ§Ä±k"
            devices(i).temperature = temperature
        END IF
    NEXT i
END SUB

DEF SUB turn_on_device_by_name(device_name AS STRING)
    FOR i = 0 TO LEN(devices) - 1
        IF devices(i).name = device_name THEN
            devices(i).status = "aÃ§Ä±k"
        END IF
    NEXT i
END SUB

DEF SUB turn_off_device_by_name(device_name AS STRING)
    FOR i = 0 TO LEN(devices) - 1
        IF devices(i).name = device_name THEN
            devices(i).status = "kapalÄ±"
        END IF
    NEXT i
END SUB

DEF SUB set_device_by_name(device_name AS STRING, status AS STRING, brightness AS INTEGER)
    FOR i = 0 TO LEN(devices) - 1
        IF devices(i).name = device_name THEN
            devices(i).status = status
            IF devices(i).type = "lighting" THEN
                devices(i).brightness = brightness
            END IF
        END IF
    NEXT i
END SUB

DEF SUB security_system()
    DIM running AS BOOLEAN
    running = True
    
    WHILE running
        PRINT
        PRINT "â•â•â• GÃœVENLÄ°K SÄ°STEMÄ° â•â•â•"
        PRINT "1. GÃ¼venlik Durumu"
        PRINT "2. Alarm Sistemi"
        PRINT "3. Kamera KontrolÃ¼"
        PRINT "4. KapÄ±/Pencere SensÃ¶rleri"
        PRINT "5. GÃ¼venlik GeÃ§miÅŸi"
        PRINT "6. Ana MenÃ¼ye DÃ¶n"
        
        INPUT "SeÃ§iminiz: ", choice
        
        SELECT CASE choice
            CASE 1: call security_status()
            CASE 2: call alarm_control()
            CASE 3: PRINT "Kamera kontrol modÃ¼lÃ¼ geliÅŸtirme aÅŸamasÄ±nda..."
            CASE 4: call sensor_control()
            CASE 5: PRINT "GÃ¼venlik geÃ§miÅŸi modÃ¼lÃ¼ geliÅŸtirme aÅŸamasÄ±nda..."
            CASE 6: running = False
        END SELECT
    WEND
END SUB

DEF SUB security_status()
    PRINT
    PRINT "GÃœVENLÄ°K DURUMU:"
    PRINT STRING$(40, "=")
    
    DIM alarm_icon AS STRING
    IF security.alarm_status = "aÃ§Ä±k" THEN
        alarm_icon = "ğŸ”´"
    ELSE
        alarm_icon = "ğŸŸ¢"
    END IF
    
    DIM door_icon AS STRING
    IF security.door_locked THEN
        door_icon = "ğŸ”’"
    ELSE
        door_icon = "ğŸ”“"
    END IF
    
    PRINT "Alarm durumu: " + alarm_icon + " " + UPPER$(security.alarm_status)
    PRINT "Ana kapÄ±: " + door_icon + " " + IIF$(security.door_locked, "Kilitli", "AÃ§Ä±k")
    PRINT "Pencere sensÃ¶rleri: " + IIF$(security.window_sensors, "âœ… Aktif", "âŒ Pasif")
    PRINT "Hareket algÄ±lama: " + IIF$(security.motion_detection, "âœ… Aktif", "âŒ Pasif")
    
    PRINT
    PRINT "SENSÃ–R DURUMU:"
    FOR i = 0 TO LEN(sensors) - 1
        DIM s AS OBJECT
        s = sensors(i)
        
        IF s.type = "motion" THEN
            DIM motion_status AS STRING
            IF s.value = 1 THEN
                motion_status = "ğŸ”´ Hareket var"
            ELSE
                motion_status = "ğŸŸ¢ Hareket yok"
            END IF
            PRINT s.room + " - " + motion_status
        END IF
    NEXT i
END SUB

DEF SUB reports_statistics()
    PRINT
    PRINT "â•â•â• RAPORLAR VE Ä°STATÄ°STÄ°KLER â•â•â•"
    PRINT "1. GÃ¼nlÃ¼k Ã–zet"
    PRINT "2. Enerji Raporu"
    PRINT "3. Cihaz KullanÄ±m Ä°statistikleri"
    PRINT "4. Oda Konfor Analizi"
    
    INPUT "SeÃ§iminiz: ", choice
    
    SELECT CASE choice
        CASE 1: call daily_summary()
        CASE 2: call energy_report()
        CASE 3: call device_usage_stats()
        CASE 4: call room_comfort_analysis()
    END SELECT
END SUB

DEF SUB daily_summary()
    PRINT
    PRINT "GÃœNLÃœK Ã–ZET - " + FORMAT$(NOW(), "dd/mm/yyyy")
    PRINT STRING$(50, "=")
    
    DIM active_count AS INTEGER
    DIM total_power AS INTEGER
    active_count = 0
    total_power = 0
    
    FOR i = 0 TO LEN(devices) - 1
        IF devices(i).status = "aÃ§Ä±k" THEN
            active_count = active_count + 1
            total_power = total_power + devices(i).power
        END IF
    NEXT i
    
    PRINT "ğŸ“± Aktif cihaz sayÄ±sÄ±: " + STR$(active_count) + "/" + STR$(LEN(devices))
    PRINT "âš¡ Toplam gÃ¼Ã§ tÃ¼ketimi: " + STR$(total_power) + " W"
    PRINT "ğŸ’° GÃ¼nlÃ¼k enerji maliyeti: " + STR$(ROUND((total_power / 1000) * 0.85 * 24, 2)) + " â‚º"
    
    DIM occupied_rooms AS INTEGER
    occupied_rooms = 0
    FOR i = 0 TO LEN(rooms) - 1
        IF rooms(i).occupancy THEN occupied_rooms = occupied_rooms + 1
    NEXT i
    PRINT "ğŸ  KullanÄ±mdaki oda sayÄ±sÄ±: " + STR$(occupied_rooms)
    
    PRINT "ğŸ”’ GÃ¼venlik durumu: " + UPPER$(security.alarm_status)
    
    PRINT
    PRINT "EN Ã‡OK ENERJÄ° TÃœKETEN CÄ°HAZLAR:"
    FOR i = 0 TO LEN(devices) - 1
        IF devices(i).status = "aÃ§Ä±k" AND devices(i).power > 500 THEN
            PRINT "â€¢ " + devices(i).name + ": " + STR$(devices(i).power) + "W"
        END IF
    NEXT i
END SUB

REM Ana program dÃ¶ngÃ¼sÃ¼
DIM running AS BOOLEAN
running = True

WHILE running
    show_main_menu()
    
    DIM choice AS INTEGER
    INPUT "SeÃ§iminiz (1-10): ", choice
    
    SELECT CASE choice
        CASE 1
            device_control_panel()
        CASE 2
            room_status()
        CASE 3
            energy_management()
        CASE 4
            PRINT "Zamanlama ve otomasyon modÃ¼lÃ¼ geliÅŸtirme aÅŸamasÄ±nda..."
        CASE 5
            PRINT "SensÃ¶r verileri modÃ¼lÃ¼ geliÅŸtirme aÅŸamasÄ±nda..."
        CASE 6
            smart_scenarios()
        CASE 7
            security_system()
        CASE 8
            reports_statistics()
        CASE 9
            PRINT "Sistem ayarlarÄ± modÃ¼lÃ¼ geliÅŸtirme aÅŸamasÄ±nda..."
        CASE 10
            running = False
            PRINT "AkÄ±llÄ± ev sistemi kapatÄ±lÄ±yor..."
        CASE ELSE
            PRINT "GeÃ§ersiz seÃ§im!"
    END SELECT
    
    IF running THEN
        PRINT
        INPUT "Devam etmek iÃ§in Enter tuÅŸuna basÄ±n...", dummy
        PRINT
    END IF
WEND

PRINT "AkÄ±llÄ± ev otomasyon sistemi kapatÄ±ldÄ±."
